# PhoenixCoder çŠ¶æ€å¾½ç« é…ç½®
# å®šä¹‰é¡¹ç›®çŠ¶æ€å¾½ç« çš„æ ·å¼ã€æ•°æ®æºå’Œç”Ÿæˆè§„åˆ™

# å¾½ç« åŸºç¡€é…ç½®
badge_config:
  # å¾½ç« æ ·å¼
  style: "flat-square"  # flat, flat-square, plastic, for-the-badge, social
  logo_width: 14
  logo_height: 14
  
  # é¢œè‰²ä¸»é¢˜
  colors:
    success: "#28a745"
    warning: "#ffc107"
    error: "#dc3545"
    info: "#17a2b8"
    primary: "#007bff"
    secondary: "#6c757d"
    
  # è‡ªå®šä¹‰é¢œè‰²
  custom_colors:
    excellent: "#00d4aa"
    good: "#97ca00"
    fair: "#dfb317"
    poor: "#fe7d37"
    critical: "#e05d44"
    
  # å¾½ç« å°ºå¯¸
  dimensions:
    height: 20
    font_size: 11
    padding: 4

# æ„å»ºçŠ¶æ€å¾½ç« 
build_badges:
  # CI/CD çŠ¶æ€
  ci_status:
    label: "Build"
    data_source: "github_actions"
    workflow_name: "CI/CD Pipeline"
    colors:
      passing: "success"
      failing: "error"
      pending: "warning"
    logo: "github-actions"
    
  # æµ‹è¯•è¦†ç›–ç‡
  test_coverage:
    label: "Coverage"
    data_source: "coverage_report"
    file_path: "coverage/coverage-summary.json"
    colors:
      excellent: "#00d4aa"  # >= 90%
      good: "#97ca00"      # >= 80%
      fair: "#dfb317"      # >= 70%
      poor: "#fe7d37"      # >= 60%
      critical: "#e05d44"  # < 60%
    thresholds:
      excellent: 90
      good: 80
      fair: 70
      poor: 60
    format: "{value}%"
    logo: "codecov"
    
  # ä»£ç è´¨é‡
  code_quality:
    label: "Quality"
    data_source: "sonarqube"
    project_key: "phoenixcoder"
    colors:
      A: "success"
      B: "good"
      C: "warning"
      D: "poor"
      E: "error"
    logo: "sonarqube"
    
  # å®‰å…¨æ‰«æ
  security_scan:
    label: "Security"
    data_source: "security_report"
    file_path: "security/security-report.json"
    colors:
      no_issues: "success"
      low_risk: "good"
      medium_risk: "warning"
      high_risk: "error"
      critical_risk: "critical"
    logo: "shield"

# éƒ¨ç½²çŠ¶æ€å¾½ç« 
deployment_badges:
  # ç”Ÿäº§ç¯å¢ƒçŠ¶æ€
  production_status:
    label: "Production"
    data_source: "deployment_status"
    environment: "production"
    colors:
      deployed: "success"
      deploying: "warning"
      failed: "error"
      rollback: "secondary"
    logo: "vercel"
    
  # é¢„å‘å¸ƒç¯å¢ƒçŠ¶æ€
  staging_status:
    label: "Staging"
    data_source: "deployment_status"
    environment: "staging"
    colors:
      deployed: "success"
      deploying: "warning"
      failed: "error"
    logo: "vercel"
    
  # æ­£å¸¸è¿è¡Œæ—¶é—´
  uptime:
    label: "Uptime"
    data_source: "uptime_monitor"
    service_url: "https://api.phoenixcoder.com/health"
    colors:
      excellent: "success"  # >= 99.9%
      good: "good"         # >= 99.5%
      fair: "warning"      # >= 99.0%
      poor: "error"        # < 99.0%
    thresholds:
      excellent: 99.9
      good: 99.5
      fair: 99.0
    format: "{value}%"
    logo: "uptimerobot"

# æ€§èƒ½æŒ‡æ ‡å¾½ç« 
performance_badges:
  # å“åº”æ—¶é—´
  response_time:
    label: "Response Time"
    data_source: "performance_report"
    metric: "avg_response_time"
    colors:
      excellent: "success"  # < 200ms
      good: "good"         # < 500ms
      fair: "warning"      # < 1000ms
      poor: "error"        # >= 1000ms
    thresholds:
      excellent: 200
      good: 500
      fair: 1000
    format: "{value}ms"
    logo: "speedtest"
    
  # ååé‡
  throughput:
    label: "Throughput"
    data_source: "performance_report"
    metric: "requests_per_second"
    colors:
      excellent: "success"  # >= 1000 RPS
      good: "good"         # >= 500 RPS
      fair: "warning"      # >= 100 RPS
      poor: "error"        # < 100 RPS
    thresholds:
      excellent: 1000
      good: 500
      fair: 100
    format: "{value} RPS"
    logo: "gauge"
    
  # Lighthouse æ€§èƒ½åˆ†æ•°
  lighthouse_performance:
    label: "Lighthouse"
    data_source: "lighthouse_report"
    metric: "performance_score"
    colors:
      excellent: "success"  # >= 90
      good: "good"         # >= 80
      fair: "warning"      # >= 70
      poor: "error"        # < 70
    thresholds:
      excellent: 90
      good: 80
      fair: 70
    format: "{value}/100"
    logo: "lighthouse"

# æŠ€æœ¯æ ˆå¾½ç« 
technology_badges:
  # Node.js ç‰ˆæœ¬
  nodejs_version:
    label: "Node.js"
    data_source: "package_json"
    field: "engines.node"
    color: "success"
    logo: "node.js"
    
  # Python ç‰ˆæœ¬
  python_version:
    label: "Python"
    data_source: "pyproject_toml"
    field: "tool.poetry.dependencies.python"
    color: "success"
    logo: "python"
    
  # TypeScript
  typescript:
    label: "TypeScript"
    data_source: "static"
    value: "5.x"
    color: "primary"
    logo: "typescript"
    
  # React
  react:
    label: "React"
    data_source: "package_json"
    field: "dependencies.react"
    color: "info"
    logo: "react"
    
  # Vue.js
  vue:
    label: "Vue.js"
    data_source: "package_json"
    field: "dependencies.vue"
    color: "success"
    logo: "vue.js"
    
  # FastAPI
  fastapi:
    label: "FastAPI"
    data_source: "pyproject_toml"
    field: "tool.poetry.dependencies.fastapi"
    color: "good"
    logo: "fastapi"
    
  # PostgreSQL
  postgresql:
    label: "PostgreSQL"
    data_source: "static"
    value: "16"
    color: "primary"
    logo: "postgresql"
    
  # Redis
  redis:
    label: "Redis"
    data_source: "static"
    value: "7.x"
    color: "error"
    logo: "redis"

# é¡¹ç›®ä¿¡æ¯å¾½ç« 
project_badges:
  # ç‰ˆæœ¬å·
  version:
    label: "Version"
    data_source: "package_json"
    field: "version"
    color: "primary"
    logo: "tag"
    
  # è®¸å¯è¯
  license:
    label: "License"
    data_source: "package_json"
    field: "license"
    color: "secondary"
    logo: "license"
    
  # è´¡çŒ®è€…æ•°é‡
  contributors:
    label: "Contributors"
    data_source: "github_api"
    endpoint: "/repos/{owner}/{repo}/contributors"
    color: "info"
    logo: "contributors"
    
  # æ˜Ÿæ ‡æ•°
  stars:
    label: "Stars"
    data_source: "github_api"
    endpoint: "/repos/{owner}/{repo}"
    field: "stargazers_count"
    color: "warning"
    logo: "star"
    
  # Fork æ•°
  forks:
    label: "Forks"
    data_source: "github_api"
    endpoint: "/repos/{owner}/{repo}"
    field: "forks_count"
    color: "secondary"
    logo: "fork"
    
  # é—®é¢˜æ•°
  issues:
    label: "Issues"
    data_source: "github_api"
    endpoint: "/repos/{owner}/{repo}"
    field: "open_issues_count"
    colors:
      low: "success"      # < 10
      medium: "warning"   # < 50
      high: "error"       # >= 50
    thresholds:
      low: 10
      medium: 50
    logo: "issue"
    
  # æœ€åæäº¤æ—¶é—´
  last_commit:
    label: "Last Commit"
    data_source: "github_api"
    endpoint: "/repos/{owner}/{repo}/commits"
    field: "commit.author.date"
    color: "info"
    format: "relative_time"  # "2 days ago"
    logo: "commit"

# è‡ªå®šä¹‰å¾½ç« 
custom_badges:
  # ä»£ç è¡Œæ•°
  lines_of_code:
    label: "Lines of Code"
    data_source: "cloc_report"
    file_path: "reports/cloc.json"
    field: "SUM.code"
    color: "secondary"
    format: "{value:,}"
    logo: "code"
    
  # æŠ€æœ¯å€ºåŠ¡
  tech_debt:
    label: "Tech Debt"
    data_source: "sonarqube"
    metric: "sqale_index"
    colors:
      low: "success"      # < 1h
      medium: "warning"   # < 8h
      high: "error"       # >= 8h
    thresholds:
      low: 60          # 1 hour in minutes
      medium: 480      # 8 hours in minutes
    format: "duration"   # "2h 30m"
    logo: "debt"
    
  # API ç«¯ç‚¹æ•°é‡
  api_endpoints:
    label: "API Endpoints"
    data_source: "openapi_spec"
    file_path: "docs/openapi.json"
    field: "paths"
    color: "info"
    logo: "api"
    
  # æ•°æ®åº“è¡¨æ•°é‡
  database_tables:
    label: "DB Tables"
    data_source: "database_schema"
    query: "SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = 'public'"
    color: "primary"
    logo: "database"

# å¾½ç« ç”Ÿæˆè§„åˆ™
generation_rules:
  # æ›´æ–°é¢‘ç‡
  update_frequency:
    build_badges: "on_workflow_completion"  # å·¥ä½œæµå®Œæˆæ—¶æ›´æ–°
    deployment_badges: "on_deployment"      # éƒ¨ç½²æ—¶æ›´æ–°
    performance_badges: "daily"             # æ¯æ—¥æ›´æ–°
    technology_badges: "on_dependency_change" # ä¾èµ–å˜æ›´æ—¶æ›´æ–°
    project_badges: "weekly"                # æ¯å‘¨æ›´æ–°
    custom_badges: "daily"                  # æ¯æ—¥æ›´æ–°
    
  # ç¼“å­˜ç­–ç•¥
  cache:
    enabled: true
    ttl: 3600  # 1 å°æ—¶
    
  # é”™è¯¯å¤„ç†
  error_handling:
    fallback_color: "secondary"
    fallback_value: "unknown"
    retry_attempts: 3
    retry_delay: 5  # ç§’
    
  # è¾“å‡ºæ ¼å¼
  output:
    formats:
      - "shields_io"    # Shields.io æ ¼å¼
      - "markdown"      # Markdown æ ¼å¼
      - "html"          # HTML æ ¼å¼
      - "json"          # JSON æ•°æ®
    
    # æ–‡ä»¶è·¯å¾„
    output_dir: "badges"
    markdown_file: "README-badges.md"
    json_file: "badges.json"
    
  # å¾½ç« æ’åº
  display_order:
    - "ci_status"
    - "test_coverage"
    - "code_quality"
    - "security_scan"
    - "production_status"
    - "uptime"
    - "response_time"
    - "lighthouse_performance"
    - "version"
    - "license"
    - "nodejs_version"
    - "python_version"
    - "typescript"
    - "react"
    - "fastapi"
    - "postgresql"
    - "contributors"
    - "stars"
    - "last_commit"

# æ•°æ®æºé…ç½®
data_sources:
  # GitHub API
  github_api:
    base_url: "https://api.github.com"
    headers:
      Accept: "application/vnd.github.v3+json"
      User-Agent: "PhoenixCoder-Badge-Generator"
    auth:
      token: "${GITHUB_TOKEN}"
      
  # GitHub Actions
  github_actions:
    api_url: "https://api.github.com/repos/{owner}/{repo}/actions"
    
  # SonarQube
  sonarqube:
    base_url: "${SONARQUBE_URL}"
    auth:
      token: "${SONARQUBE_TOKEN}"
      
  # è¦†ç›–ç‡æŠ¥å‘Š
  coverage_report:
    formats:
      - "lcov"
      - "json-summary"
      - "cobertura"
      
  # æ€§èƒ½æŠ¥å‘Š
  performance_report:
    file_patterns:
      - "performance-results/*.json"
      - "lighthouse-results/*.json"
      
  # æ­£å¸¸è¿è¡Œæ—¶é—´ç›‘æ§
  uptime_monitor:
    providers:
      - "uptimerobot"
      - "pingdom"
      - "custom"
      
  # åŒ…ç®¡ç†æ–‡ä»¶
  package_json:
    file_path: "package.json"
    
  pyproject_toml:
    file_path: "pyproject.toml"
    
  # é™æ€æ•°æ®
  static:
    # é¢„å®šä¹‰çš„é™æ€å€¼
    values: {}

# é€šçŸ¥é…ç½®
notifications:
  # å¾½ç« çŠ¶æ€å˜åŒ–é€šçŸ¥
  status_changes:
    enabled: true
    channels:
      - "slack"
      - "github_pr_comment"
    
    # é€šçŸ¥æ¡ä»¶
    conditions:
      - "build_status_changed"
      - "coverage_decreased"
      - "quality_gate_failed"
      - "security_issues_found"
      - "deployment_failed"
      
  # é€šçŸ¥æ¨¡æ¿
  templates:
    slack:
      build_failed: |
        ğŸš¨ æ„å»ºå¤±è´¥
        é¡¹ç›®: {project_name}
        åˆ†æ”¯: {branch}
        æäº¤: {commit_sha}
        æŸ¥çœ‹è¯¦æƒ…: {workflow_url}
        
    github_pr_comment: |
      ## ğŸ“Š çŠ¶æ€å¾½ç« æ›´æ–°
      
      {badge_changes}
      
      æŸ¥çœ‹å®Œæ•´æŠ¥å‘Š: [æ€§èƒ½æŠ¥å‘Š]({report_url})

# å›½é™…åŒ–é…ç½®
i18n:
  default_language: "zh-CN"
  
  labels:
    zh-CN:
      build: "æ„å»º"
      coverage: "è¦†ç›–ç‡"
      quality: "è´¨é‡"
      security: "å®‰å…¨"
      production: "ç”Ÿäº§ç¯å¢ƒ"
      staging: "é¢„å‘å¸ƒ"
      uptime: "æ­£å¸¸è¿è¡Œæ—¶é—´"
      response_time: "å“åº”æ—¶é—´"
      throughput: "ååé‡"
      lighthouse: "Lighthouse"
      version: "ç‰ˆæœ¬"
      license: "è®¸å¯è¯"
      contributors: "è´¡çŒ®è€…"
      stars: "æ˜Ÿæ ‡"
      forks: "åˆ†æ”¯"
      issues: "é—®é¢˜"
      last_commit: "æœ€åæäº¤"
      
    en-US:
      build: "Build"
      coverage: "Coverage"
      quality: "Quality"
      security: "Security"
      production: "Production"
      staging: "Staging"
      uptime: "Uptime"
      response_time: "Response Time"
      throughput: "Throughput"
      lighthouse: "Lighthouse"
      version: "Version"
      license: "License"
      contributors: "Contributors"
      stars: "Stars"
      forks: "Forks"
      issues: "Issues"
      last_commit: "Last Commit"